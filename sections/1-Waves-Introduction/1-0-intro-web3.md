# Введение

Данная книга может вам помочь максимально быстро сделать свое первое Web3 приложение на блокчейне Waves не допуская фатальных ошибок. Эта книга акцентирована на примеры, разбор реальных кейсов, конкретные рецепты, которые вы можете применять в своих приложениях. Но, как и во многих аспектах жизни, переход к реальным задачам требует фундаментальных знаний о протоколе. Поэтому в первых трех главах рассказывается об особенностях Web3 и блокчейна Waves, чем он отличается от других блокчейнов, наряду с разбором что и как может влиять на архитектуру вашего приложения и какие могут быть ограничения. Книга сфокусирована на особенностях работы с Web3 приложениями на Waves, но не на базовых понятиях вроде "что такое блокчейн?" и "как работает алгоритм консенсуса?", так как материалов о том, как работает блокчейн, огромное количество, в то время как найти особенности отдельных протоколов, примеры и рецепты достаточно проблематично.

Важно понимать, что книга так же не является "полным справочником" по Waves, так как делает акцент на прикладные аспекты протокола. Она не пытается конкурировать с [документацией протокола](https://docs.wavesplatform.com), которая уже есть достаточно давно и покрывает многие аспекты работы с Waves.

После прочтения этой книги вы будете в состоянии писать смарт-контракты на языке Ride, понимать особенности платформы Waves, сможете сделать свое первое децентрализованное Web 3 приложение.

# Глава 1. Краткая история веба или от Web 1.0 к Web 3.0

Вы держите в руках книгу, которая посвящена Web3, но, возможно, вы сперва хотите узнать, что такое Web3, чем это отличается от Web2 и причем тут волны (Waves). В этой главе мы разберемся во всех этих вопросах.

Наверняка вы слышали, что интернет, как технология передачи сигналов, появился более 50 лет назад, а если быть точнее, то в 2 сентября 1969 года. Именно в этот день 2 компьютера впервые передали друг другу данные. Но всемирная паутина в нашем текущем понимании, была изобренеа сэром Тимом Бернерсом Ли 20 лет спустя, в 1989. Фактически, он придумал Интернет, который мы знаем сегодня, состоящий из миллионов связанных друг с другом с помощью ссылок документов с гипертекстовой разметкой. Интернет в 1989 году был совершенно другим, в нем не было социальных сетей вроде Facebook, интернет-магазинов вроде Amazon и даже поисковых систем и сайтов с мемасиками.

Интернет в те времена был "только для чтения". Сайты были только у научных центров, крупных университетов и компаний, и именно они создавали весь контент и распространяли в виде статичных веб-страниц, единственной формой взаимодействия с которыми был переход по ссылке на другую страницу. Это был прекрасный мир Web 1.0.

**Другими словами, Web 1.0 - Интернет "только для чтения" для большинства его пользователей.**

Шло время и скорость распространения технологии только увеличивалось, в 90-х Интернет пережил бум и "крах доткомов", но именно этот крах дал возможность появиться следующей эволюции веб-страниц в интернете. Эти веб-страницы отличались тем, что предлагали пользователем инструменты для взаимодействия друг с другом. Одними из первых таких форм были форумы, которые сейчас почти канули в небытие, но когда-то были очень популярны. Кроме форумов начали появляться и другие платформы с контентом от пользователей, а не только владельцев сайта (user generated content). Интернет стал не только для чтения, но и для создания и созидания, страницы стали интерактивными, технологии позволили взаимодействовать пользователям без перезагрузок страниц (появился AJAX). Мы до сих пор живем в мире Web 2.0.

**Web 2.0 - Интернет с контентом от пользователей и возможность взаимодействовать с другими пользователями**

Но что же такое Web 3.0? Какое дать ему определение? Возможно, вы достаточно стары, чтобы помнить такую идею как "семантический веб". Семантический веб - семейство стандартов, которые были нацелены на создание протоколов обмена данными в Сети. Пару лет назад именно это понимали под Web 3.0, но сейчас видение будущего изменилось.

Всемирная сеть становится все более сложной, связной, и даже умной. Растет количество пользователей, количество и качество их взаимодействий. Растет и количество вызовов и проблем, с которыми сталкивается всемирная паутина, в особенности в связи со взломами, утечками данных, манипулированиями, продажами персональной информации и т.д. Во многом это вызвано историей веба, ведь с самого начала в Интернете практически не было моделей монетизации кроме рекламы, которая ведет к слежке за пользователем. А самой естественной формой развития интернет платформ стали монополии, ведь в интернете нет границ, физических ограничений, поэтому захватывать рынки гораздо проще. Одним из ответов на эти проблемы является **децентрализация**. Веб будущего должен быть нацелен в первую очередь на безопасность, приватность и должен ставить в центре внимания пользователя, а не корпорации. Для этого Web 3.0 может использовать такие технологии как Blockchain, но, очевидно, что в вебе будущего будет много и Artificial Intelligence, Big Data, VR/AR.

Переход к Web 3.0 отличается от перехода Web1.0 -> Web2.0. Web 3.0 не про скорость, производительность или удобство, а про **власть**. Власть пользователей над своими данными, а не корпораций над пользователями.

Один из пионеров Web 3.0 и со-основатель блокчейн платформы Ethereum Гэвин Вуд в своем [блог-посте](http://gavwood.com/dappsweb3.html) описал Web 3.0 еще в 2014 следующими словами:

> «Переосмысление вещей, для которых мы уже используем Web, но с принципиально другой моделью взаимодействия между сторонами. Информацию, которую мы считаем общедоступной, мы публикуем. Информацию, относительно которой мы хотим договариваться, мы помещаем в распределенный реестр. Информацию, которая является приватной, мы держим в секрете и никогда не раскрываем. Связь всегда происходит по зашифрованным каналам и только с псевдонимами в качестве конечных точек; но никогда с отслеживаемым псевдонимами (например, IP-адресами). Короче говоря, мы проектируем систему которая математически принуждает соблюдать наши предположения о доступности информации, ведь никакому правительству или организации нельзя доверять».

Математическим принуждением соблюдения наших допущений является использование криптографии, а избавиться от доверия нам позволяет блокчейн. В этой книге мы практически не будем затрагивать вопросы криптографии, так как нас больше интересует практическая применимость идей Web3 и как уже сегодня можно делать делать приложения веба будущего.

## Из чего состоит Web 3.0

Web3 сейчас находится в своем зачаточном состоянии как в плане количества приложений, так и в плане количества пользователей этих приложений. И именно поэтому сейчас самое время начать делать такие приложения, которые помогут привлечь больше пользователей. В то же время, никто не исключает сценария, что наше текущее понимание Web 3.0 изменится в будущем и описанные в этой книге принципы станут так же не актуальны, как не актуален "семантический веб".

Давайте разберемся, из чего состоит Web 3.0 в текущем понимании. В этом нам поможет описание слоев технологий Web 3.0, которое можно найти на сайте [Web3 Foundation](https://web3.foundation/about/). В данный момент Web3 стэк описывает все, что связано с блокчейном, не затрагивая другие возможные технологии. Стэк состоит из 5 слоев, от уровня 0 до уровня 4.

Уровень 0 является основой технологического стека Web3, состоящего из того, как узлы сети взаимодействуют и как их можно программировать на самом низком уровне. В рамках этой книги мы будем рассматриваем Waves Blockchain и его протокол общения узлов. Во многих случаях уровень 0 является черным ящиком для разработчиков приложений, который никак не влияет на пользовательский опыт или процесс разработки.

Следующий уровень - это уровень 1, который распространяет данные и взаимодействует с ними. Уровень также может называться протоколом взаимодействия с нулевым доверием. По сути, это протокол, который описывает, как различные узлы в сети блокчейна взаимодействуют друг с другом, он позволяет им обмениваться и проверять друг друга. Этот уровень в основном касается протоколов распространения данных и временных / промежуточных сообщений. Уровень 1 необходим для правильной работы самого блокчейна. Этот уровень может влиять на пользоватский опыт, например, в плане задержек попадания информации в блокчейн, поэтому важно понимать как на этом уровне работает система.

При разработке Web3 приложений вы определенно будете работать с протоколами второго уровня. Это серия протоколов, которые включают в себя множество интересных технических решений, таких как State Channels, Plasma Protocols, оракулы и так далее. Этот уровень расширяет возможности уровня 1, обеспечивая масштабирование, зашифрованный обмен сообщениями и распределенные вычисления. В этом книге мы будем описывать работу с оракулами. Оракулы - это способ получать данные из реального мира в рамках блокчейн системы (например, погоду или цены на акции). Web3 приложения очень часто завязаны на данные, которые находятся за рамками блокчейна, поэтому работа с такими данными и оракулами крайне важна. В главе 7 мы подробнее рассмотрим проблемы оракулов.

Уровень 3 посвящен языкам программирования и библиотекам, которые позволяют разработчикам создавать программы на должном уровне абстрации, без лишних низкоуровненвых деталей. Этот уровень также известен как "расширяемые протоколы, API-интерфейсы и языки для разработчиков". Существует множество языков, которые можно использовать для разработки приложений без использования реального байт-кода, таких как Solidity для Ethereum, Plutus для Cardano и RIDE для Waves. Кроме того, существует множество платформ и библиотек, которые облегчают разработку приложений, взаимодействующих с блокчейном. Мы будем использовать Ride и библиотеку JavaScript для Waves Blockchain. Существует множество библиотек для разных языков, для PHP, Java, Python, Kotlin, Swift и многих других, но мы рассмотрим только библиотеку JavaScript / Typescript.

Наконец, мы переходим к верхнему уровню стека, уровню 4, который является уровнем пользовательского интерфейса. Он содержит технологии, которые позволяют обычному пользователю, не разработчику, взаимодействовать с Web3 приложениями. Некоторые распространенные браузеры (например, Opera) позволяют пользователям напрямую взаимодействовать с блокчейнами, но некоторые из самых популярных браузеров: Chrome, Firefox и Microsoft Edge требуют дополнительных инструментов от пользователей, наиболее распространенным инструментом являются браузерные расширения.

Общая схема Web3 стэка выглядит следующим образом:

![Web3 Stack](../../assets/1-0-1-1-web3-stack.png "Web3 Stack")

## Стэк технологий Waves

В этой книге мы будем рассматривать все слои стэка Web3 на примере протокола Waves.

![Waves Web3 Stack](../../assets/1-0-1-2-waves-web3-stack.png "Waves Web3 Stack")

Наше рассмотрение начнем с самых базовых слоев, далее поговорим про язык программирования Ride, инструменты для разработки, оракулы и способы взаимодействия с пользователем. В ходе рассмотрения технологий мы так же будем говорить о философии и о причинах тех или иных технических решениях.
